<div class="homes flex-main">
  <div id="map" class="item"></div>
  <script type="text/javascript">
    var map = new google.maps.Map(document.getElementById('map'), {
      zoom: 10,
      center: new google.maps.LatLng(<%= @lat_center %>, <%= @long_center %>),
      mapTypeId: google.maps.MapTypeId.ROADMAP
    });

    var locations = <%= raw @locations.to_json %>;
    var marker, i;

    for (i = 0; i < locations.length; i++) {
      marker = new google.maps.Marker({
        position: new google.maps.LatLng(locations[i][0], locations[i][1]),
        map: map
      });

      google.maps.event.addListener(marker, 'click', (function(marker, i) {
        return function() {
          const url = locations[i][2];
          window.location.href = url
        }
      })(marker, i));
    }
  </script>


  <div id="station" class="down" >
    <% if @charge_station.present? %>
      <h5><%= @charge_station.address %></h5>
      <div class="s-table">
        <%= render 'layouts/charge_station_details', charge_station: @charge_station, plugs: @plugs %>
      </div>
      <%= month_calendar events: @meetings do |date, meetings| %>
        <% found = false %>
        <% meetings.each do |meeting| %>
          <% if meeting.name %>
            <div class="<%= meeting.name %>"><%= date.day %></div>
            <% found = true %>
          <% end %>
        <% end %>
        <% if !found %>
          <%= date.day %>
        <% end %>
      <% end %>



    <% end %>
  </div>


</div>